**142.环形链表 II**

> 给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 null。
>
> 为了表示给定链表中的环，我们使用整数 pos 来表示链表尾连接到链表中的位置（索引从 0 开始）。 如果 pos 是 -1，则在该链表中没有环。
>
> 说明：不允许修改给定的链表。
>
>  
>
> **示例 1：**
>
> ```
> 输入：head = [3,2,0,-4], pos = 1
> 输出：tail connects to node index 1
> 解释：链表中有一个环，其尾部连接到第二个节点。
> ```
>
> **示例 2：**
>
> ```
> 输入：head = [1,2], pos = 0
> 输出：tail connects to node index 0
> 解释：链表中有一个环，其尾部连接到第一个节点。
> ```
>
> **示例 3：**
>
> ```
> 输入：head = [1], pos = -1
> 输出：no cycle
> 解释：链表中没有环
> ```
>
> **进阶：**
>  你是否可以不用额外空间解决此题？



**解题思路**

本题为141题的升级版本，判断是否为环的方法同141题，所以重点是找到链表尾连接的位置。



定义非环部分长x，环的入口到相遇节点长度为y，相遇节点到环首为z,则y+z为环的长度。当相遇时slow指针走了
$$
x+y
$$
faster指针走了
$$
x+y+n( y+z)
$$
n表示faster在环内走的圈数。因为faster步长为2,slower步长为1,所以
$$
x+y+n( y+z) = 2(x+y)
$$
即
$$
x=(n-1)(y+z)+z. （n >= 1）
$$
当n = 1时，x = z，其意义为从头节点出发一个指针，从相遇节点出发一个指针，两者每次移动一步，相遇时当节点即为环的入口。当n为其他值，只是多在环内走了几圈而已，早晚会相遇的。





